(function(){"use strict";var e={5795:function(e,t,n){var o=n(9963),i=n(6252);const r={id:"app",style:{padding:"20px"}};function a(e,t,n,o,a,l){const u=(0,i.up)("LocationSearch"),c=(0,i.up)("TimeZoneDisplay"),s=(0,i.up)("n-spin"),p=(0,i.up)("LocationMap"),d=(0,i.up)("LocationTable");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(u,{onSearch:o.searchLocation,onCurrentLocation:o.getCurrentLocation},null,8,["onSearch","onCurrentLocation"]),(0,i.Wm)(s,{show:o.isLoading},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{timeZone:o.timeZone,localTime:o.localTime},null,8,["timeZone","localTime"])])),_:1},8,["show"]),(0,i.Wm)(p,{location:o.currentLocation},null,8,["location"]),(0,i.Wm)(d,{locations:o.locations,onDelete:o.deleteLocations,onGoto:o.goto},null,8,["locations","onDelete","onGoto"])])}var l=n(2262);const u={style:{margin:"auto",width:"500px"}};function c(e,t,n,r,a,l){const c=(0,i.up)("n-input"),s=(0,i.up)("n-button"),p=(0,i.up)("n-input-group");return(0,i.wg)(),(0,i.iD)("div",u,[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{type:"text",value:r.location,"onUpdate:value":t[0]||(t[0]=e=>r.location=e),onKeyup:(0,o.D2)(r.searchLocation,["enter"]),placeholder:"Enter a location",loading:r.loading},null,8,["value","onKeyup","loading"]),(0,i.Wm)(s,{onClick:r.searchLocation,"icon-placement":"left",disabled:r.loading||!r.location.length},{default:(0,i.w5)((()=>[(0,i.Uk)("Search")])),_:1},8,["onClick","disabled"]),(0,i.Wm)(s,{onClick:r.getCurrentLocation,"icon-placement":"left",disabled:r.loading},{default:(0,i.w5)((()=>[(0,i.Uk)("Get Current Location")])),_:1},8,["onClick","disabled"])])),_:1})])}var s=n(6201),p=n(1897),d=n(1109),f=n(6154),m={components:{NButton:s.ZP,NInput:p.Z,NInputGroup:d.Z},setup(e,t){const n=(0,l.iH)(""),o=(0,l.iH)(!1),i=async()=>{try{o.value=!0;const e=n.value.replace(" ","+"),i=await f.Z.get(`https://api.opencagedata.com/geocode/v1/json?q=${e}&key=6051ea151ae5434e9b13621e37a5ffea&language=en&pretty=1`),r=i.data?.results;if(!r.length)return;const a=r[0];t.emit("search",{name:n?.value??"",position:[a.geometry.lat,a.geometry.lng]})}finally{n.value="",setTimeout((()=>{o.value=!1}),2e3)}},r=()=>{o.value=!0,navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{t.emit("current-location",{lat:e.coords.latitude,lng:e.coords.longitude})}),(()=>{alert("Unable to retrieve your location")})):alert("Geolocation is not supported by your browser"),setTimeout((()=>{o.value=!1}),2e3)};return{loading:o,location:n,searchLocation:i,getCurrentLocation:r}}},g=n(3744);const v=(0,g.Z)(m,[["render",c]]);var y=v;const h={style:{height:"500px",margin:"20px auto"}};function b(e,t,n,o,r,a){const l=(0,i.up)("l-tile-layer"),u=(0,i.up)("l-marker"),c=(0,i.up)("l-map");return(0,i.wg)(),(0,i.iD)("div",h,[(0,i.Wm)(c,{style:{height:"100%",width:"80%",margin:"auto"},center:n.location,zoom:r.zoom},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{url:r.url,attribution:r.attribution},null,8,["url","attribution"]),(0,i.Wm)(u,{"lat-lng":n.location},null,8,["lat-lng"])])),_:1},8,["center","zoom"])])}var w=n(7713),k={components:{LMap:w.iA,LTileLayer:w.Hw,LMarker:w.$R},props:{location:{type:Array,required:!0}},data(){return{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoom:10}}};const L=(0,g.Z)(k,[["render",b]]);var C=L;const O={style:{width:"1100px",margin:"auto"}};function T(e,t,n,o,r,a){const l=(0,i.up)("n-button"),u=(0,i.up)("n-data-table");return(0,i.wg)(),(0,i.iD)("div",O,[(0,i.Wm)(l,{strong:"",secondary:"",type:"error",style:{"margin-bottom":"5px"},onClick:o.deleteSelected,disabled:!o.checkedRowKeys.length},{default:(0,i.w5)((()=>[(0,i.Uk)("Delete")])),_:1},8,["onClick","disabled"]),(0,i.Wm)(u,{columns:o.columns,data:n.locations,pagination:o.pagination,"row-key":o.rowKey,"onUpdate:checkedRowKeys":o.handleCheck},null,8,["columns","data","pagination","row-key","onUpdate:checkedRowKeys"])])}var Z=n(7956),j={props:{locations:{type:Array,required:!0}},components:{NDataTable:Z.Z,NButton:s.ZP},setup(e,t){const n=(0,l.iH)([]),o=[{type:"selection",key:"isChecked"},{title:"Location",key:"name"},{title:"Position",key:"position",render(e){return`${e.position[0]}, ${e.position[1]}`}},{title:"Action",key:"actions",render(e){return(0,i.h)(s.ZP,{size:"small",onClick:()=>r(e)},{default:()=>"Go"})}}],r=e=>{t.emit("goto",e.position)},a=()=>{t.emit("delete",n.value),n.value=[]};return{columns:o,checkedRowKeys:n,pagination:{pageSize:5},deleteSelected:a,rowKey:e=>e.name,handleCheck(e){n.value=e}}}};const _=(0,g.Z)(j,[["render",T]]);var S=_,P=n(3577);const x={style:{"margin-top":"10px"}},W={key:0,style:{margin:"auto",width:"fit-content"}},D={key:1,style:{margin:"auto",width:"fit-content"}};function z(e,t,n,o,r,a){return(0,i.wg)(),(0,i.iD)("div",x,[n.timeZone?((0,i.wg)(),(0,i.iD)("div",W," Time Zone: "+(0,P.zw)(n.timeZone),1)):(0,i.kq)("",!0),n.localTime?((0,i.wg)(),(0,i.iD)("div",D," Local Time: "+(0,P.zw)(n.localTime),1)):(0,i.kq)("",!0)])}var N={props:{timeZone:{type:String,required:!0},localTime:{type:String,required:!0}}};const A=(0,g.Z)(N,[["render",z]]);var H=A,q=n(1397),E={components:{NSpin:q.Z,LocationSearch:y,LocationMap:C,LocationTable:S,TimeZoneDisplay:H},setup(){const e=(0,l.iH)([]),t=(0,l.iH)([40,40]),n=(0,l.iH)(null),o=(0,l.iH)(null),i=(0,l.iH)(!1),r=n=>{t.value=n.position,u(n.position),e.value.unshift({name:n.name,position:n.position,isChecked:!1})},a=e=>{r({name:"Your Current Position",position:[e.lat,e.lng]}),u([e.lat,e.lng])},u=async e=>{try{i.value=!0;const t=await f.Z.get(`http://api.timezonedb.com/v2.1/get-time-zone?key=P49NO524YW3A&format=json&by=position&lat=${e[0]}&lng=${e[1]}`);n.value=t.data.zoneName,o.value=t.data.formatted}catch(t){console.error(t)}finally{i.value=!1}},c=t=>{e.value=e.value.filter((e=>!t.includes(e.name)))},s=e=>{t.value=e,u(e)};return{timeZone:n,isLoading:i,localTime:o,locations:e,currentLocation:t,searchLocation:r,getCurrentLocation:a,deleteLocations:c,goto:s}}};const K=(0,g.Z)(E,[["render",a]]);var M=K;(0,o.ri)(M).mount("#app")}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,r){if(!o){var a=1/0;for(s=0;s<e.length;s++){o=e[s][0],i=e[s][1],r=e[s][2];for(var l=!0,u=0;u<o.length;u++)(!1&r||a>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[u])}))?o.splice(u--,1):(l=!1,r<a&&(a=r));if(l){e.splice(s--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[o,i,r]}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(o,i){if(1&i&&(o=this(o)),8&i)return o;if("object"===typeof o&&o){if(4&i&&o.__esModule)return o;if(16&i&&"function"===typeof o.then)return o}var r=Object.create(null);n.r(r);var a={};e=e||[null,t({}),t([]),t(t)];for(var l=2&i&&o;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((function(e){a[e]=function(){return o[e]}}));return a["default"]=function(){return o},n.d(r,a),r}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{93:"9f310703",243:"6550ec19",431:"cb8aa360",633:"fdf33463",858:"42dadfd1"}[e]+".js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="my-map-vue:";n.l=function(o,i,r,a){if(e[o])e[o].push(i);else{var l,u;if(void 0!==r)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var p=c[s];if(p.getAttribute("src")==o||p.getAttribute("data-webpack")==t+r){l=p;break}}l||(u=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+r),l.src=o),e[o]=[i];var d=function(t,n){l.onerror=l.onload=null,clearTimeout(f);var i=e[o];if(delete e[o],l.parentNode&&l.parentNode.removeChild(l),i&&i.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=d.bind(null,l.onerror),l.onload=d.bind(null,l.onload),u&&document.head.appendChild(l)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/my-vue-map/"}(),function(){var e={143:0};n.f.j=function(t,o){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)o.push(i[2]);else{var r=new Promise((function(n,o){i=e[t]=[n,o]}));o.push(i[2]=r);var a=n.p+n.u(t),l=new Error,u=function(o){if(n.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var r=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,i[1](l)}};n.l(a,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,r,a=o[0],l=o[1],u=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(u)var s=u(n)}for(t&&t(o);c<a.length;c++)r=a[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(s)},o=self["webpackChunkmy_map_vue"]=self["webpackChunkmy_map_vue"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(5795)}));o=n.O(o)})();
//# sourceMappingURL=app.6e0caafb.js.map